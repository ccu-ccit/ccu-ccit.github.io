{"remainingRequest":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/src/components/teacher/InProgressActivity/Monitor.vue?vue&type=style&index=0&id=6c90bd70&lang=scss&scoped=true&","dependencies":[{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/src/components/teacher/InProgressActivity/Monitor.vue","mtime":1608274836354},{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoud3JhcHBlciB7CiAgd2lkdGg6IDgwJTsKICBiYWNrZ3JvdW5kOiAjMDAwMDAwYTY7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBtYXJnaW46IDIwcHggYXV0bzsKICBwYWRkaW5nOiAxMHB4OwogIC5hY3Rpb24gewogICAgd2lkdGg6IDEwMCU7CiAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgfQp9Ci5zcGluLXdyYXBwZXIgewogIG1pbi1oZWlnaHQ6IDIwMHB4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBkaXYgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA1MCU7CiAgfQp9Cg=="},{"version":3,"sources":["Monitor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Monitor.vue","sourceRoot":"src/components/teacher/InProgressActivity","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div v-if=\"studentAnsProgress.length == 0\" class=\"spin-wrapper\">\n      <a-spin size=\"large\" />\n    </div>\n    <a-table\n      v-else\n      :pagination=\"false\"\n      :columns=\"columns\"\n      :data-source=\"studentAnsProgress\"\n      style=\"background: #fafafa\"\n    >\n      <span slot=\"answer\" slot-scope=\"record\">\n        <a-icon\n          style=\"color: #1890ff\"\n          v-if=\"record == undefined\"\n          type=\"loading\"\n        />\n        <a-icon style=\"color: green\" v-else-if=\"record.bingo\" type=\"check\" />\n        <a-icon style=\"color: red\" v-else type=\"close\" />\n      </span>\n    </a-table>\n    <div class=\"action\">\n      <a-button size=\"small\" type=\"primary\" style=\"margin: 20px\" @click=\"next\"\n        >結束活動</a-button\n      >\n    </div>\n  </div>\n</template>\n<script>\nimport { createNamespacedHelpers } from \"vuex\";\nimport { getProgress } from \"@/apis/req\";\nconst { mapGetters: teacherGetters } = createNamespacedHelpers(\"teacher\");\nconst { mapActions: teacherActions } = createNamespacedHelpers(\"teacher\");\nexport default {\n  props: {\n    activity: Object,\n  },\n  data() {\n    return {\n      columns: [\n        {\n          title: \"Name\",\n          dataIndex: \"name\",\n          key: \"name\",\n        },\n      ],\n      studentAnsProgress: [],\n      polling: null,\n    };\n  },\n  computed: {\n    ...teacherGetters([\"getInProgressQuiz\", \"getStudentAnsProgress\"]),\n  },\n  created() {\n    this.getInProgressQuiz.forEach((quiz) => {\n      this.columns.push({\n        title: \"Q\" + quiz.serial,\n        dataIndex: quiz.serial.toString(),\n        key: quiz.serial,\n        scopedSlots: { customRender: \"answer\" },\n      });\n    });\n    getProgress({ codename: this.activity.codename }).then((res) => {\n      this.setStudentAnsProgress(res.student === null ? [] : res.student);\n      this.studentAnsProgress = this.$store.state.teacher.studentAnsProgress;\n    });\n    this.pollData();\n  },\n  methods: {\n    ...teacherActions([\"setStudentAnsProgress\"]),\n    next() {\n      this.$router.push({ name: \"summary\" });\n    },\n    pollData() {\n      this.polling = setInterval(() => {\n        getProgress({ codename: this.activity.codename }).then((res) => {\n          this.setStudentAnsProgress(res.student === null ? [] : res.student);\n          this.studentAnsProgress = this.$store.state.teacher.studentAnsProgress;\n        });\n      }, 5000);\n    },\n  },\n  beforeDestroy() {\n    clearInterval(this.polling);\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.wrapper {\n  width: 80%;\n  background: #000000a6;\n  border-radius: 10px;\n  margin: 20px auto;\n  padding: 10px;\n  .action {\n    width: 100%;\n    text-align: right;\n    margin-top: 10px;\n  }\n}\n.spin-wrapper {\n  min-height: 200px;\n  position: relative;\n  div {\n    position: absolute;\n    top: 50%;\n  }\n}\n</style>"]}]}