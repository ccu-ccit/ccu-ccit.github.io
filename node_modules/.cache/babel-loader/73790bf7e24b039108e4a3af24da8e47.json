{"remainingRequest":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/thread-loader/dist/cjs.js!/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/babel-loader/lib/index.js!/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/src/components/teacher/InProgressActivity/Monitor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/src/components/teacher/InProgressActivity/Monitor.vue","mtime":1610174192202},{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/ccu-ccit.github.io/ccu-ccit.github.io/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9ydW5uZXIvd29yay9jY3UtY2NpdC5naXRodWIuaW8vY2N1LWNjaXQuZ2l0aHViLmlvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgZ2V0UHJvZ3Jlc3MgfSBmcm9tICJAL2FwaXMvcmVxIjsKCnZhciBfY3JlYXRlTmFtZXNwYWNlZEhlbHAgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygidGVhY2hlciIpLAogICAgdGVhY2hlckdldHRlcnMgPSBfY3JlYXRlTmFtZXNwYWNlZEhlbHAubWFwR2V0dGVyczsKCnZhciBfY3JlYXRlTmFtZXNwYWNlZEhlbHAyID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoInRlYWNoZXIiKSwKICAgIHRlYWNoZXJBY3Rpb25zID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwMi5tYXBBY3Rpb25zOwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBhY3Rpdml0eTogT2JqZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sdW1uczogW3sKICAgICAgICB0aXRsZTogIk5hbWUiLAogICAgICAgIGRhdGFJbmRleDogIm5hbWUiLAogICAgICAgIGtleTogIm5hbWUiCiAgICAgIH1dLAogICAgICBzdHVkZW50QW5zUHJvZ3Jlc3M6IFtdLAogICAgICBwb2xsaW5nOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIHRlYWNoZXJHZXR0ZXJzKFsiZ2V0SW5Qcm9ncmVzc1F1aXoiLCAiZ2V0U3R1ZGVudEFuc1Byb2dyZXNzIl0pKSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLmdldEluUHJvZ3Jlc3NRdWl6LmZvckVhY2goZnVuY3Rpb24gKHF1aXopIHsKICAgICAgX3RoaXMuY29sdW1ucy5wdXNoKHsKICAgICAgICB0aXRsZTogIlEiICsgcXVpei5zZXJpYWwsCiAgICAgICAgZGF0YUluZGV4OiBxdWl6LnNlcmlhbC50b1N0cmluZygpLAogICAgICAgIGtleTogcXVpei5zZXJpYWwsCiAgICAgICAgc2NvcGVkU2xvdHM6IHsKICAgICAgICAgIGN1c3RvbVJlbmRlcjogImFuc3dlciIKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgICBnZXRQcm9ncmVzcyh7CiAgICAgIGNvZGVuYW1lOiB0aGlzLmFjdGl2aXR5LmNvZGVuYW1lCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMuc2V0U3R1ZGVudEFuc1Byb2dyZXNzKHJlcy5zdHVkZW50ID09PSBudWxsID8gW10gOiByZXMuc3R1ZGVudCk7CgogICAgICBfdGhpcy5zdHVkZW50QW5zUHJvZ3Jlc3MgPSBfdGhpcy4kc3RvcmUuc3RhdGUudGVhY2hlci5zdHVkZW50QW5zUHJvZ3Jlc3M7CiAgICB9KTsKICAgIHRoaXMucG9sbERhdGEoKTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGVhY2hlckFjdGlvbnMoWyJzZXRTdHVkZW50QW5zUHJvZ3Jlc3MiXSkpLCB7fSwgewogICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJzdW1tYXJ5IgogICAgICB9KTsKICAgIH0sCiAgICBwb2xsRGF0YTogZnVuY3Rpb24gcG9sbERhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5wb2xsaW5nID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIGdldFByb2dyZXNzKHsKICAgICAgICAgIGNvZGVuYW1lOiBfdGhpczIuYWN0aXZpdHkuY29kZW5hbWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMi5zZXRTdHVkZW50QW5zUHJvZ3Jlc3MocmVzLnN0dWRlbnQgPT09IG51bGwgPyBbXSA6IHJlcy5zdHVkZW50KTsKCiAgICAgICAgICBfdGhpczIuc3R1ZGVudEFuc1Byb2dyZXNzID0gX3RoaXMyLiRzdG9yZS5zdGF0ZS50ZWFjaGVyLnN0dWRlbnRBbnNQcm9ncmVzczsKICAgICAgICB9KTsKICAgICAgfSwgNTAwMCk7CiAgICB9CiAgfSksCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wb2xsaW5nKTsKICB9Cn07"},{"version":3,"sources":["Monitor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,SAAA,uBAAA,QAAA,MAAA;AACA,SAAA,WAAA,QAAA,YAAA;;4BACA,uBAAA,CAAA,SAAA,C;IAAA,c,yBAAA,U;;6BACA,uBAAA,CAAA,SAAA,C;IAAA,c,0BAAA,U;;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,SAAA,EAAA,MAFA;AAGA,QAAA,GAAA,EAAA;AAHA,OADA,CADA;AAQA,MAAA,kBAAA,EAAA,EARA;AASA,MAAA,OAAA,EAAA;AATA,KAAA;AAWA,GAhBA;AAiBA,EAAA,QAAA,oBACA,cAAA,CAAA,CAAA,mBAAA,EAAA,uBAAA,CAAA,CADA,CAjBA;AAoBA,EAAA,OApBA,qBAoBA;AAAA;;AACA,SAAA,iBAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,EAAA,MAAA,IAAA,CAAA,MADA;AAEA,QAAA,SAAA,EAAA,IAAA,CAAA,MAAA,CAAA,QAAA,EAFA;AAGA,QAAA,GAAA,EAAA,IAAA,CAAA,MAHA;AAIA,QAAA,WAAA,EAAA;AAAA,UAAA,YAAA,EAAA;AAAA;AAJA,OAAA;AAMA,KAPA;AAQA,IAAA,WAAA,CAAA;AAAA,MAAA,QAAA,EAAA,KAAA,QAAA,CAAA;AAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,qBAAA,CAAA,GAAA,CAAA,OAAA,KAAA,IAAA,GAAA,EAAA,GAAA,GAAA,CAAA,OAAA;;AACA,MAAA,KAAA,CAAA,kBAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,OAAA,CAAA,kBAAA;AACA,KAHA;AAIA,SAAA,QAAA;AACA,GAlCA;AAmCA,EAAA,OAAA,kCACA,cAAA,CAAA,CAAA,uBAAA,CAAA,CADA;AAEA,IAAA,IAFA,kBAEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAJA;AAKA,IAAA,QALA,sBAKA;AAAA;;AACA,WAAA,OAAA,GAAA,WAAA,CAAA,YAAA;AACA,QAAA,WAAA,CAAA;AAAA,UAAA,QAAA,EAAA,MAAA,CAAA,QAAA,CAAA;AAAA,SAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,qBAAA,CAAA,GAAA,CAAA,OAAA,KAAA,IAAA,GAAA,EAAA,GAAA,GAAA,CAAA,OAAA;;AACA,UAAA,MAAA,CAAA,kBAAA,GAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,OAAA,CAAA,kBAAA;AACA,SAHA;AAIA,OALA,EAKA,IALA,CAAA;AAMA;AAZA,IAnCA;AAiDA,EAAA,aAjDA,2BAiDA;AACA,IAAA,aAAA,CAAA,KAAA,OAAA,CAAA;AACA;AAnDA,CAAA","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div v-if=\"studentAnsProgress.length == 0\" class=\"spin-wrapper\">\n      <a-spin size=\"large\" />\n    </div>\n    <a-table\n      v-else\n      :pagination=\"false\"\n      :columns=\"columns\"\n      :data-source=\"studentAnsProgress\"\n      style=\"background: #fafafa\"\n    >\n      <span slot=\"answer\" slot-scope=\"record\">\n        <a-icon\n          style=\"color: #1890ff\"\n          v-if=\"record == undefined\"\n          type=\"loading\"\n        />\n        <a-icon style=\"color: green\" v-else-if=\"record.bingo\" type=\"check\" />\n        <a-icon style=\"color: red\" v-else type=\"close\" />\n      </span>\n    </a-table>\n    <div class=\"action\">\n      <a-button size=\"small\" type=\"primary\" style=\"margin: 20px\" @click=\"next\"\n        >結束活動</a-button\n      >\n    </div>\n  </div>\n</template>\n<script>\nimport { createNamespacedHelpers } from \"vuex\";\nimport { getProgress } from \"@/apis/req\";\nconst { mapGetters: teacherGetters } = createNamespacedHelpers(\"teacher\");\nconst { mapActions: teacherActions } = createNamespacedHelpers(\"teacher\");\nexport default {\n  props: {\n    activity: Object,\n  },\n  data() {\n    return {\n      columns: [\n        {\n          title: \"Name\",\n          dataIndex: \"name\",\n          key: \"name\",\n        },\n      ],\n      studentAnsProgress: [],\n      polling: null,\n    };\n  },\n  computed: {\n    ...teacherGetters([\"getInProgressQuiz\", \"getStudentAnsProgress\"]),\n  },\n  created() {\n    this.getInProgressQuiz.forEach((quiz) => {\n      this.columns.push({\n        title: \"Q\" + quiz.serial,\n        dataIndex: quiz.serial.toString(),\n        key: quiz.serial,\n        scopedSlots: { customRender: \"answer\" },\n      });\n    });\n    getProgress({ codename: this.activity.codename }).then((res) => {\n      this.setStudentAnsProgress(res.student === null ? [] : res.student);\n      this.studentAnsProgress = this.$store.state.teacher.studentAnsProgress;\n    });\n    this.pollData();\n  },\n  methods: {\n    ...teacherActions([\"setStudentAnsProgress\"]),\n    next() {\n      this.$router.push({ name: \"summary\" });\n    },\n    pollData() {\n      this.polling = setInterval(() => {\n        getProgress({ codename: this.activity.codename }).then((res) => {\n          this.setStudentAnsProgress(res.student === null ? [] : res.student);\n          this.studentAnsProgress = this.$store.state.teacher.studentAnsProgress;\n        });\n      }, 5000);\n    },\n  },\n  beforeDestroy() {\n    clearInterval(this.polling);\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.wrapper {\n  width: 80%;\n  background: #000000a6;\n  border-radius: 10px;\n  margin: 20px auto;\n  padding: 10px;\n  .action {\n    width: 100%;\n    text-align: right;\n    margin-top: 10px;\n  }\n}\n.spin-wrapper {\n  min-height: 200px;\n  position: relative;\n  div {\n    position: absolute;\n    top: 50%;\n  }\n}\n</style>"],"sourceRoot":"src/components/teacher/InProgressActivity"}]}